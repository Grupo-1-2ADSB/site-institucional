<!DOCTYPE html>
<html>
  <head>
    <title>Google Charts Example with Smooth Animation</title>
    <!-- Incluir a biblioteca do Google Charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      // Carregar a biblioteca de visualização e o pacote específico de gráficos
      google.charts.load('current', {packages: ['corechart', 'bar']});
      google.charts.setOnLoadCallback(initialize);

      var chart;
      var data;
      var options;

      function initialize() {
        // Configurar os dados iniciais
        data = getData();
        
        // Definir as opções do gráfico incluindo animação
        options = {
          width: 900,
          height: 500,
          animation: {
            duration: 1000,
            easing: 'out',
          },
          chartArea: {width: '50%'},
          hAxis: {
            title: 'Total de Vendas',
            minValue: 0
          },
          vAxis: {
            title: 'Ano',
            minValue: 0,
            maxValue: 2000 // Ajustar conforme necessário
          }
        };

        // Inicializar o gráfico
        chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        drawChart();

        // Atualizar o gráfico a cada 10 segundos
        setInterval(updateChart, 5000); // 10000 milissegundos = 10 segundos
      }

      // Função para gerar novos dados
      function getData() {
        return google.visualization.arrayToDataTable([ 
          ['Ano', 'Vendas', 'Despesas'],
          ['2014', Math.floor(Math.random() * 2000), Math.floor(Math.random() * 2000)],
          ['2015', Math.floor(Math.random() * 2000), Math.floor(Math.random() * 2000)],
          ['2016', Math.floor(Math.random() * 2000), Math.floor(Math.random() * 2000)],
          ['2017', Math.floor(Math.random() * 2000), Math.floor(Math.random() * 2000)]
        ]);
      }

      // Função para desenhar o gráfico
      function drawChart() {
        chart.draw(data, options);
      }

      // Função para atualizar os dados e redesenhar o gráfico
      function updateChart() {
        data = getData();
        drawChart();
      }
    </script>
  </head>
  <body>
    <!-- Elemento HTML onde o gráfico será desenhado -->
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
  </body>
</html>
